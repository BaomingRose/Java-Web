<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rose书城_管理员_显示所有图书</title>
    <script type="text/javascript" src="/static/img/js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $(".delete").click(function () {
                var name=$(this).next(":hidden").val();
                var flag=confirm("确定删除"+name+"书籍吗");
                if (flag) {
                    var href = this.href;
                    $.get(href);
                    window.location.reload()
                }
            })()
        })
    </script>

</head>
<body>
<center>
    <h2>我是管理员</h2>
    <table border="true">
        <tr><td>NO.</td><td>书籍名称</td><td>作者</td><td>出版商</td><td>价格</td><td>类别</td></tr>
        <tr th:each="book,memberStat:${book_list}">
            <td th:text="${book.id}"></td>
            <td th:text="${book.name}"></td>
            <td th:text="${book.author}"></td>
            <td th:text="${book.publisher}"></td>
            <td th:text="${book.price}"></td>
            <td th:text="${book.category}"></td>
            <td><a th:href="@{'/bookstore/alterSelect?book_id=' + ${book.id}}">修改</a></td>
            <td><a th:href="@{'/bookstore/deleteControl?book_id=' + ${book.id}}" class="delete">删除</a>
                <input type="hidden" th:value="${book.name}" />
            </td>
        </tr>
    </table>

</center>
<br/><br/>
<p align="center">
<a href="/bookstore/adminInit">返回首页</a>
</p>

</body>
</html>